<html>

<head>
  <meta charset='utf-8'>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/jquery.browsergment.js"></script>
  <script>
    $(function () {
      words = [];
      const tokens = $('#all-chengyu').findTokens();
      $('#count').text(`Count of tokens: ${tokens.length} `)
      console.log(tokens);
      $('#tokens').text(tokens.join());
      const colors = ["salmon", "skyblue", "lightgold", "lavender"];
      let i = 0;
      $('#all-chengyu p').findAndSpanTokens({
        surrounder: function (tok) {
          return `<span class="box-${colors[i++ % colors.length]}">` + tok + "</span>";
        }
      });
    });
  </script>
  <style>
    .box-salmon {
      background-color: burlywood;
    }
    .box-skyblue {
      background-color: aliceblue;
    }
    .box-lightgold {
      background-color: khaki;
    }
    .box-lavender {
      background-color: lavenderblush;
    }
  </style>
</head>


<body>
  <h1>Token separation experiment with range.expand("word")</h1>
  <p>The following text has been tokenized as it would be if you were to double click on the word to create a highlight of the word. This is an experiment to see how different browsers and OS venders tokenize chinese "words" (詞)</p>
  <div id="count"></div>
  <div id="all-chengyu">
    <p>心花怒放</p>
    <p>一毛不拔</p>
    <p>白馬非馬</p>
    <p>傾盆大雨</p>
    <p>筋疲力竭</p>
    <p>狐群狗黨</p>
    <p>一視同仁</p>
    <p>黃道吉日</p>
    <p>口是心非</p>
    <p>一刀兩斷</p>
    <p>一鳴驚人</p>
    <p>大驚小怪</p>
    <p>草菅人命</p>
    <p>自不量力</p>
    <p>一網打盡</p>
    <p>一乾二淨</p>
    <p>一箭雙鵰</p>
    <p>一步登天</p>
    <p>九死一生</p>
    <p>竭盡心力</p>
    <p>五十步笑百步</p>
    <p>郎才女貌</p>
    <p>足智多謀</p>
    <p>異口同聲</p>
    <p>愛不釋手</p>
    <p>後生可畏</p>
    <p>一落千丈</p>
    <p>風調雨順</p>
    <p>素昧平生</p>
    <p>誠心誠意</p>
    <p>舞文弄墨</p>
    <p>老馬識途</p>
    <p>一刀兩斷</p>
    <p>龍吟虎嘯</p>
    <p>拍案叫絕</p>
    <p>一盞茶時</p>
    <p>另眼相待</p>
    <p>名落孫山</p>
    <p>三頭六臂</p>
    <p>守口如瓶</p>
    <p>靈機一動</p>
    <p>貫徹始終</p>
    <p>大禍臨頭</p>
    <p>如日中天</p>
    <p>將計就計</p>
    <p>神態自若</p>
    <p>一摸 ㄧ樣</p>
    <p>大禍臨頭</p>
    <p>單槍匹馬</p>
    <p>品頭論足</p>
    <p>槁木死灰</p>
    <p>廣土眾民</p>
    <p>事半功倍</p>
    <p>自始至終</p>
    <p>口是心非</p>
    <p>另臉相看</p>
    <p>力不從心</p>
    <p>同流合污</p>
    <p>官官相護</p>
    <p>一飛沖天</p>
    <p>反覆無常</p>
    <p>一針見血</p>
    <p>大禍臨頭</p>
    <p>驚濤駭浪</p>
    <p>不甘示弱</p>
    <p>騰雲駕霧</p>
    <p>前功盡棄</p>
    <p>綠草如茵</p>
    <p>明爭暗鬥</p>
    <p>厚此薄彼</p>
    <p>死心塌地</p>
    <p>金榜題名</p>
    <p>忍不可忍</p>
    <p>停雲落月</p>
    <p>再三再四</p>
    <p>出人頭地</p>
    <p>乳臭未乾</p>
    <p>百步穿楊</p>
    <p>談笑風生</p>
    <p>打家劫舍</p>
    <p>拔苗助長</p>
    <p>黃道吉日</p>
    <p>開門見山</p>
    <p>一毛不拔</p>
    <p>百尺竿頭</p>
    <p>慘不忍睹</p>
    <p>路不拾遺</p>
    <p>目不轉睛</p>
    <p>快馬加鞭</p>
    <p>食言而肥</p>
    <p>五花八門</p>
    <p>送往迎來</p>
    <p>成群結隊</p>
    <p>千山萬水</p>
  </div>
  <h3>Comma Separated Tokens:</h3>
  <p>The above text has been tokenized by the browser's range expand strategy. A list of the comma separated tokens in bellow.</p>
  <div id="tokens">
  </div>
</body>